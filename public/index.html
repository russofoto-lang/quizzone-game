<!DOCTYPE html>

<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Siponto - Gioca</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white h-screen flex flex-col overflow-hidden">
    <div id="login-screen" class="flex-1 flex flex-col items-center justify-center p-6 text-center">
        <h1 class="text-4xl font-black mb-6 text-yellow-500 uppercase tracking-tighter">SIPONTO<br>FOREVER YOUNG</h1>
        <input type="text" id="team-name" placeholder="Nome Squadra" class="w-full p-4 rounded-xl text-black text-center font-bold uppercase mb-4 text-xl">
        <button onclick="login()" class="w-full bg-blue-600 py-4 rounded-xl font-bold text-xl shadow-lg active:scale-95">ENTRA NEL GIOCO</button>
    </div>

```
<div id="game-screen" class="hidden flex-col h-full">
    <div class="bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700">
        <div class="flex items-center gap-2">
            <span id="my-name" class="font-bold text-yellow-400 uppercase tracking-widest">---</span>
            <span id="streak-indicator" class="hidden text-xs bg-orange-600 px-2 py-1 rounded font-bold">üî• 0</span>
        </div>
        <div class="flex items-center gap-2">
            <span id="finale-indicator" class="hidden text-xs bg-red-600 px-2 py-1 rounded font-bold animate-pulse">üî• FINALE</span>
            <span class="text-xs text-green-500 font-bold animate-pulse">‚óè LIVE</span>
        </div>
    </div>
    
    <!-- TIMER VISIVO -->
    <div id="timer-container" class="hidden bg-gray-800 p-3 border-b border-gray-700">
        <div class="flex justify-between items-center mb-2">
            <span class="text-sm font-semibold text-gray-400">Tempo rimasto:</span>
            <span id="timer-display" class="text-2xl font-black" style="color: #10b981;">20</span>
        </div>
        <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
            <div id="timer-bar" class="h-2 rounded-full transition-all duration-1000" style="background-color: #10b981; width: 100%;"></div>
        </div>
    </div>

    <div class="flex-1 flex flex-col p-4 justify-center items-center relative">
        <div id="msg-box" class="absolute top-4 text-center w-full text-gray-400 font-bold text-lg px-4">In attesa...</div>
        
        <!-- BOTTONI ALL IN -->
        <div id="allin-buttons" class="hidden w-full max-w-md grid grid-cols-2 gap-4">
            <button onclick="placeBet(0)" class="bg-gray-600 py-8 rounded-xl font-black text-3xl shadow-xl active:scale-95">0</button>
            <button onclick="placeBet(50)" class="bg-blue-600 py-8 rounded-xl font-black text-3xl shadow-xl active:scale-95">50</button>
            <button onclick="placeBet(100)" class="bg-orange-600 py-8 rounded-xl font-black text-3xl shadow-xl active:scale-95">100</button>
            <button onclick="placeBet(200)" class="bg-red-600 py-8 rounded-xl font-black text-3xl shadow-xl active:scale-95">200</button>
        </div>
        
        <!-- BOTTONI RUOTA FORTUNA -->
        <div id="ruota-choice-buttons" class="hidden w-full max-w-md space-y-4">
            <div class="text-center mb-8">
                <div class="text-6xl mb-4">üé∞</div>
                <div class="text-2xl font-bold text-yellow-400">SEI STATO ESTRATTO!</div>
                <div class="text-lg text-gray-300 mt-2">Scegli la tua sorte:</div>
            </div>
            <button onclick="makeRuotaChoice('safe')" class="w-full bg-green-600 py-12 rounded-xl font-black text-4xl shadow-xl active:scale-95 border-4 border-green-400">
                üí∞<br>50 PUNTI<br><span class="text-2xl">GRATIS!</span>
            </button>
            <button onclick="makeRuotaChoice('challenge')" class="w-full bg-orange-600 py-12 rounded-xl font-black text-4xl shadow-xl active:scale-95 border-4 border-orange-400">
                üéØ<br>150 PUNTI<br><span class="text-2xl">Con domanda!</span>
            </button>
        </div>
        
        <button id="btn-buzzer" onclick="prenota()" class="hidden w-64 h-64 rounded-full flex items-center justify-center border-8 shadow-2xl transition-all">
            <span class="text-4xl font-black">PREMI!</span>
        </button>

        <div id="opts-grid" class="hidden grid grid-cols-2 gap-4 w-full h-full max-h-96 mt-10"></div>
    </div>
</div>

<script>
    const socket = io();
    let buzzerLocked = true;
    let timerInterval = null;
    let questionStartTime = 0;
    let maxTime = 20;
    let currentStreak = 0;

    function login() { const n = document.getElementById('team-name').value; if(n) socket.emit('login', n); }
    
    socket.on('login_success', (d) => { 
        document.getElementById('login-screen').classList.add('hidden'); 
        document.getElementById('game-screen').classList.remove('hidden'); 
        document.getElementById('game-screen').classList.add('flex');
        document.getElementById('my-name').innerText = d.name;
    });

    socket.on('nuova_domanda', (d) => {
        resetUI();
        document.getElementById('msg-box').innerText = d.domanda;
        
        // Indicatore finale
        if(d.finaleQuestion) {
            document.getElementById('finale-indicator').classList.remove('hidden');
            document.getElementById('finale-indicator').textContent = `üî• ${d.finaleQuestion}/${d.totalFinaleQuestions}`;
        }

        // Modalit√† normale (non ALL IN)
        if(d.modalita !== 'buzzer' && d.risposte && d.risposte.length > 0) {
            questionStartTime = d.startTime || Date.now();
            maxTime = 20;
            startTimer();
        }

        if(d.modalita === 'buzzer') {
            document.getElementById('btn-buzzer').classList.remove('hidden');
            document.getElementById('opts-grid').classList.add('hidden');
            document.getElementById('timer-container').classList.add('hidden');
        } else if(d.risposte && d.risposte.length > 0) {
            document.getElementById('btn-buzzer').classList.add('hidden');
            const g = document.getElementById('opts-grid');
            g.classList.remove('hidden');
            g.innerHTML = '';
            d.risposte.forEach(r => {
                const b = document.createElement('button');
                b.className = "bg-blue-600 rounded-xl p-4 font-bold text-lg shadow-xl active:bg-blue-800 transition-all";
                b.innerText = r;
                b.onclick = () => {
                    socket.emit('invia_risposta', r);
                    g.classList.add('opacity-40','pointer-events-none');
                    document.getElementById('msg-box').innerText = "‚úì Risposta inviata!";
                    stopTimer();
                };
                g.appendChild(b);
            });
        }
    });
    
    // ALL IN - Mostra bottoni scommessa
    socket.on('show_allin_betting', (d) => {
        console.log('üì± Ricevuto evento scommesse ALL IN');
        resetUI();
        document.getElementById('msg-box').innerText = "üí∞ ALL IN - Scommetti!";
        document.getElementById('allin-buttons').classList.remove('hidden');
        document.getElementById('finale-indicator').classList.remove('hidden');
        document.getElementById('finale-indicator').textContent = `üî• 1/${d.totalFinaleQuestions || 5}`;
    });

    // ALL IN - Scommessa
    function placeBet(amount) {
        socket.emit('place_allin_bet', { amount: amount });
        document.getElementById('allin-buttons').classList.add('hidden');
        document.getElementById('msg-box').innerText = `Scommessa: ${amount} punti - In attesa domanda...`;
    }

    // Ruota Fortuna - Mostra scelta
    socket.on('ruota_choice', (data) => {
        resetUI();
        document.getElementById('ruota-choice-buttons').classList.remove('hidden');
    });

    function makeRuotaChoice(choice) {
        socket.emit('ruota_choice_made', { 
            teamId: socket.id, 
            choice: choice 
        });
        
        document.getElementById('ruota-choice-buttons').classList.add('hidden');
        
        if(choice === 'safe') {
            document.getElementById('msg-box').innerText = 'üí∞ Hai scelto 50 punti sicuri!';
        } else {
            document.getElementById('msg-box').innerText = 'üéØ Preparati alla domanda sfida!';
        }
    }

    // FINALE STARTED
    socket.on('finale_started', () => {
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-red-600 p-6 rounded-xl animate-pulse">
                <div class="text-6xl mb-4">üî•</div>
                <div class="text-3xl font-black">SFIDA FINALE</div>
                <div class="text-xl mt-2">Leggete le regole sul display!</div>
            </div>
        `;
    });
    
    // MOSTRA DOMANDA ALL IN (dopo scommesse)
    socket.on('show_allin_question', (d) => {
        console.log('üì± Ricevuta domanda ALL IN');
        document.getElementById('msg-box').innerText = d.domanda;
        
        const g = document.getElementById('opts-grid');
        g.classList.remove('hidden');
        g.innerHTML = '';
        
        d.risposte.forEach(r => {
            const b = document.createElement('button');
            b.className = "bg-blue-600 rounded-xl p-4 font-bold text-lg shadow-xl active:bg-blue-800 transition-all";
            b.innerText = r;
            b.onclick = () => {
                socket.emit('invia_risposta', r);
                g.classList.add('opacity-40','pointer-events-none');
                document.getElementById('msg-box').innerText = "‚úì Risposta inviata!";
                stopTimer();
            };
            g.appendChild(b);
        });
        
        questionStartTime = d.startTime;
        maxTime = 20;
        startTimer();
    });

    // BUZZER STANDALONE MODE
    socket.on('buzzer_standalone_mode', (data) => {
        if(data.active) {
            resetUI();
            document.getElementById('msg-box').innerText = "üéµ Premi quando sai la risposta!";
            document.getElementById('btn-buzzer').classList.remove('hidden');
            const btn = document.getElementById('btn-buzzer');
            btn.className = "w-64 h-64 rounded-full bg-red-600 border-red-800 flex items-center justify-center animate-pulse shadow-[0_0_50px_rgba(255,0,0,0.5)]";
            btn.innerHTML = "<span class='text-4xl font-black text-white uppercase tracking-widest'>VAI!</span>";
            btn.onclick = prenota;
            buzzerLocked = false;
        }
    });

    function startTimer() {
        stopTimer();
        document.getElementById('timer-container').classList.remove('hidden');
        
        const timerDisplay = document.getElementById('timer-display');
        const timerBar = document.getElementById('timer-bar');
        
        timerBar.style.width = '100%';
        timerBar.style.backgroundColor = '#10b981';
        
        timerInterval = setInterval(() => {
            const elapsed = (Date.now() - questionStartTime) / 1000;
            const remaining = Math.max(0, maxTime - elapsed);
            
            timerDisplay.textContent = Math.ceil(remaining);
            timerBar.style.width = `${(remaining / maxTime) * 100}%`;
            
            if(remaining <= 5) {
                timerBar.style.backgroundColor = '#ef4444';
                timerDisplay.style.color = '#ef4444';
            } else if(remaining <= 10) {
                timerBar.style.backgroundColor = '#f59e0b';
                timerDisplay.style.color = '#f59e0b';
            } else {
                timerBar.style.backgroundColor = '#10b981';
                timerDisplay.style.color = '#10b981';
            }
            
            if(remaining <= 0) {
                stopTimer();
                timerDisplay.textContent = '0';
            }
        }, 100);
    }

    function stopTimer() {
        if(timerInterval) {
            clearInterval(timerInterval);
            timerInterval = null;
        }
    }

    socket.on('buzzer_position', (data) => {
        const b = document.getElementById('btn-buzzer');
        const medals = ['ü•á', 'ü•à', 'ü•â'];
        const medal = medals[data.position - 1] || `${data.position}¬∞`;
        
        b.className = "w-64 h-64 rounded-full bg-green-500 border-8 border-green-700 flex flex-col items-center justify-center shadow-[0_0_50px_rgba(0,255,0,0.6)]";
        b.innerHTML = `
            <span class='text-6xl mb-2'>${medal}</span>
            <span class='text-2xl font-black text-black uppercase'>Prenotato!</span>
            <span class='text-lg text-black mt-2'>${data.time}s</span>
        `;
        if(navigator.vibrate) navigator.vibrate([200, 100, 200]);
        
        b.onclick = null;
        b.classList.add('opacity-75');
    });

    socket.on('stato_buzzer', (d) => {
        const btn = document.getElementById('btn-buzzer');
        if(!d.attiva) {
            btn.classList.add('hidden');
            return;
        }
        buzzerLocked = d.locked;
        if(buzzerLocked) {
            btn.className = "w-64 h-64 rounded-full bg-gray-700 border-gray-800 opacity-50 flex items-center justify-center";
            btn.innerHTML = "<span class='text-2xl font-bold text-gray-400 uppercase tracking-tighter'>Bloccato</span>";
            btn.onclick = null;
        } else {
            btn.className = "w-64 h-64 rounded-full bg-red-600 border-red-800 flex items-center justify-center animate-pulse shadow-[0_0_50px_rgba(255,0,0,0.5)]";
            btn.innerHTML = "<span class='text-4xl font-black text-white uppercase tracking-widest'>VAI!</span>";
            btn.onclick = prenota;
        }
    });

    function prenota() { if(!buzzerLocked) socket.emit('prenoto'); }
    
    function resetUI() {
        stopTimer();
        document.getElementById('btn-buzzer').classList.add('hidden');
        document.getElementById('opts-grid').classList.add('hidden');
        document.getElementById('opts-grid').innerHTML = '';
        document.getElementById('opts-grid').classList.remove('opacity-40','pointer-events-none');
        document.getElementById('timer-container').classList.add('hidden');
        document.getElementById('allin-buttons').classList.add('hidden');
        
        // Nascondi container duello
        const opponentsDiv = document.getElementById('duello-opponents-container');
        if(opponentsDiv) opponentsDiv.classList.add('hidden');
        const categoriesDiv = document.getElementById('duello-categories-container');
        if(categoriesDiv) categoriesDiv.classList.add('hidden');
        const questionDiv = document.getElementById('duello-question-container');
        if(questionDiv) questionDiv.classList.add('hidden');
    }
    
    socket.on('game_paused', () => {
        resetUI();
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-orange-600 p-6 rounded-xl">
                <div class="text-6xl mb-4">‚òï</div>
                <div class="text-3xl font-black">PAUSA</div>
                <div class="text-xl mt-2">Torniamo tra pochissimo!</div>
            </div>
        `;
    });
    
    socket.on('game_resumed', () => {
        document.getElementById('msg-box').innerHTML = 'In attesa...';
        document.getElementById('msg-box').className = 'absolute top-4 text-center w-full text-gray-400 font-bold text-lg px-4';
    });
    
    socket.on('reset_client_ui', () => {
        resetUI();
        document.getElementById('msg-box').innerHTML = 'In attesa...';
        document.getElementById('msg-box').className = 'absolute top-4 text-center w-full text-gray-400 font-bold text-lg px-4';
        document.getElementById('finale-indicator').classList.add('hidden');
    });
    
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // üî• DUELLO RUBA-PUNTI
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    
    socket.on('duello_choose_opponent', (data) => {
        resetUI();
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-red-600 p-4 rounded-xl">
                <div class="text-4xl mb-2">üî•</div>
                <div class="text-xl font-black mb-2">SCEGLI IL TUO AVVERSARIO</div>
                <div class="text-xs">Chi vuoi sfidare?</div>
            </div>
        `;
        
        // Crea container per i pulsanti se non esiste
        let opponentsDiv = document.getElementById('duello-opponents-container');
        if(!opponentsDiv) {
            opponentsDiv = document.createElement('div');
            opponentsDiv.id = 'duello-opponents-container';
            opponentsDiv.className = 'w-full max-w-md space-y-2 mt-4';
            document.querySelector('.flex-1.flex.flex-col.p-4').appendChild(opponentsDiv);
        }
        opponentsDiv.innerHTML = '';
        opponentsDiv.classList.remove('hidden');
        
        data.opponents.forEach(opp => {
            const btn = document.createElement('button');
            btn.className = 'w-full bg-gradient-to-r from-orange-500 to-red-600 p-3 rounded-xl font-black text-lg hover:scale-105 transition shadow-xl active:scale-95';
            btn.innerHTML = `${opp.name} <span class="text-xs font-normal">(${opp.score}pt)</span>`;
            btn.onclick = () => {
                socket.emit('duello_opponent_chosen', { opponentId: opp.id });
                opponentsDiv.innerHTML = '';
                opponentsDiv.classList.add('hidden');
                document.getElementById('msg-box').innerHTML = `
                    <div class="bg-green-600 p-6 rounded-xl">
                        <div class="text-5xl mb-4">‚úÖ</div>
                        <div class="text-2xl font-black">Hai sfidato ${opp.name}!</div>
                        <div class="text-sm mt-2">Ora scegli la categoria...</div>
                    </div>
                `;
            };
            opponentsDiv.appendChild(btn);
        });
    });
    
    socket.on('duello_choose_category', (data) => {
        resetUI();
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-purple-600 p-6 rounded-xl">
                <div class="text-5xl mb-4">üìö</div>
                <div class="text-2xl font-black mb-4">SCEGLI LA CATEGORIA</div>
                <div class="text-sm mb-4">In quale categoria vuoi sfidare?</div>
            </div>
        `;
        
        // Crea container per le categorie se non esiste
        let categoriesDiv = document.getElementById('duello-categories-container');
        if(!categoriesDiv) {
            categoriesDiv = document.createElement('div');
            categoriesDiv.id = 'duello-categories-container';
            categoriesDiv.className = 'w-full max-w-md grid grid-cols-2 gap-3 mt-6';
            document.querySelector('.flex-1.flex.flex-col.p-4').appendChild(categoriesDiv);
        }
        categoriesDiv.innerHTML = '';
        categoriesDiv.classList.remove('hidden');
        
        data.categories.forEach(cat => {
            const btn = document.createElement('button');
            btn.className = 'bg-gradient-to-r from-indigo-500 to-purple-600 p-4 rounded-xl font-black text-lg hover:scale-105 transition shadow-xl active:scale-95';
            btn.textContent = cat.toUpperCase();
            btn.onclick = () => {
                socket.emit('duello_category_chosen', { category: cat });
                categoriesDiv.innerHTML = '';
                categoriesDiv.classList.add('hidden');
                document.getElementById('msg-box').innerHTML = `
                    <div class="bg-green-600 p-6 rounded-xl animate-pulse">
                        <div class="text-5xl mb-4">‚úÖ</div>
                        <div class="text-2xl font-black">Categoria: ${cat.toUpperCase()}</div>
                        <div class="text-sm mt-2">Preparati al duello!</div>
                    </div>
                `;
            };
            categoriesDiv.appendChild(btn);
        });
    });
    
    socket.on('duello_question', (d) => {
        resetUI();
        
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-gradient-to-r from-red-600 to-orange-600 p-4 rounded-xl">
                <div class="text-3xl mb-2">‚öîÔ∏è DUELLO</div>
                <div class="text-sm">${d.categoria.toUpperCase()}</div>
            </div>
        `;
        
        // Crea container per domanda e buzzer
        let duelloQuestionDiv = document.getElementById('duello-question-container');
        if(!duelloQuestionDiv) {
            duelloQuestionDiv = document.createElement('div');
            duelloQuestionDiv.id = 'duello-question-container';
            duelloQuestionDiv.className = 'w-full max-w-md mt-6';
            document.querySelector('.flex-1.flex.flex-col.p-4').appendChild(duelloQuestionDiv);
        }
        duelloQuestionDiv.classList.remove('hidden');
        duelloQuestionDiv.innerHTML = `
            <div class="text-2xl font-black mb-6 leading-tight text-center">${d.domanda}</div>
            <button onclick="pressDuelloBuzzer()" class="w-full bg-gradient-to-r from-yellow-400 to-red-600 p-8 rounded-2xl font-black text-4xl hover:scale-105 transition shadow-2xl animate-pulse active:scale-95">
                ‚ö° BUZZER ‚ö°
            </button>
        `;
    });
    
    function pressDuelloBuzzer() {
        socket.emit('duello_buzzer_press', { teamId: socket.id });
        const duelloQuestionDiv = document.getElementById('duello-question-container');
        if(duelloQuestionDiv) {
            duelloQuestionDiv.innerHTML = `
                <div class="bg-blue-600 p-8 rounded-xl text-center">
                    <div class="text-5xl mb-4">‚ö°</div>
                    <div class="text-3xl font-black">HAI PREMUTO!</div>
                    <div class="text-lg mt-2">Rispondi vocalmente alla domanda</div>
                </div>
            `;
        }
    }
    
    socket.on('duello_buzzer_pressed', (data) => {
        // Mostra chi ha premuto
        const myId = socket.id;
        if(data.teamId === myId) {
            document.getElementById('msg-box').innerHTML = `
                <div class="bg-yellow-400 text-black p-4 rounded-xl font-black text-xl">
                    üé§ TU HAI PREMUTO! Rispondi vocalmente
                </div>
            `;
        } else {
            document.getElementById('msg-box').innerHTML = `
                <div class="bg-gray-600 p-4 rounded-xl">
                    ‚è≥ ${data.teamName} sta rispondendo...
                </div>
            `;
            const duelloQuestionDiv = document.getElementById('duello-question-container');
            if(duelloQuestionDiv) duelloQuestionDiv.innerHTML = '';
        }
    });
    
    socket.on('duello_point_scored', (data) => {
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-green-600 p-6 rounded-xl">
                <div class="text-5xl mb-4">‚úÖ</div>
                <div class="text-2xl font-black">${data.teamName} SEGNA!</div>
                <div class="text-4xl mt-4">${data.scoreAttaccante} - ${data.scoreDifensore}</div>
            </div>
        `;
        const duelloQuestionDiv = document.getElementById('duello-question-container');
        if(duelloQuestionDiv) duelloQuestionDiv.innerHTML = '';
    });
    
    socket.on('duello_wrong_answer', (data) => {
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-red-600 p-6 rounded-xl">
                <div class="text-5xl mb-4">‚ùå</div>
                <div class="text-xl font-black">${data.wrongTeamName} ha sbagliato!</div>
            </div>
        `;
    });
    
    socket.on('duello_end', (data) => {
        resetUI();
        const isWinner = socket.id === data.winner.id;
        
        document.getElementById('msg-box').innerHTML = `
            <div class="bg-gradient-to-r ${isWinner ? 'from-green-500 to-emerald-600' : 'from-gray-600 to-slate-700'} p-8 rounded-xl">
                <div class="text-8xl mb-6">${isWinner ? 'üèÜ' : 'üòî'}</div>
                <div class="text-4xl font-black mb-4">${isWinner ? 'HAI VINTO!' : 'HAI PERSO'}</div>
                <div class="text-2xl">${data.pointsChange}</div>
            </div>
        `;
    });
    
    socket.on('force_reload', () => window.location.reload());
</script>
```

</body>
</html>
